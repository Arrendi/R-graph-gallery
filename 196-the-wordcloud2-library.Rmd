---
title: "The Wordcloud2 library"
descriptionMeta: "This post explains how to draw wordclouds with R and the wordcloud2 package. It provides several reproducible examples with explanation and R code."
descriptionTop: "This post explains how to draw [wordclouds](wordcloud.html) with `R` and the `wordcloud2` package. It provides several reproducible examples with explanation and R code. It is largely inspired from the very well done [vignette](https://cran.r-project.org/web/packages/wordcloud2/vignettes/wordcloud.html)."
sectionText: "Wordcloud section"
sectionLink: "wordcloud.html"
DataToVizText: "Warning"
DataToVizLink: "data-to-viz.com/graph/wordcloud.html"
url: "196-the-wordcloud2-library"
output:
  html_document:
      self_contained: false    
      mathjax: default
      lib_dir: libs
      template: template_rgg.html
      css: style.css
      toc: TRUE
      toc_float: TRUE
      toc_depth: 2
      df_print: "paged"
---


```{r global options, include = FALSE}
knitr::opts_chunk$set( warning=FALSE, message=FALSE)
```

<div class="container">




# Most basic with `wordcloud2()`
***

<div class = "row">

<div class = "col-md-6  col-sm-12 align-self-center">

This is the most basic barplot you can build with the `wordcloud2` library, using its `wordcloud2()` function. Note:

- `data` is a data frame including word and freq in each column
- `size` is the font size, default is 1.


</div>


<div class = "col-md-6  col-sm-12">

<img src="img/graph/196-the-wordcloud2-library1.png"></img>

</div>
</div>



```{r eval=FALSE }
# library
library(wordcloud2) 
 
# have a look to the example dataset
# head(demoFreq)

# Basic plot
wordcloud2(data=demoFreq, size=1.6)
```












# Color & Background color {#color}
***


<div class = "row">

<div class = "col-md-4  col-sm-12 align-self-center">

<img src="img/graph/196-the-wordcloud2-library2.png" width="100%"></img>

</div>

<div class = "col-md-4  col-sm-12 align-self-center">

<img src="img/graph/196-the-wordcloud2-library3.png" width="100%"></img>

</div>


<div class = "col-md-4  col-sm-12 align-self-center">

<img src="img/graph/196-the-wordcloud2-library4.png" width="97%"></img>

</div>


</div>

Explanation text


```{r eval=FALSE }
# library
library(wordcloud2) 
 
# Gives a proposed palette
wordcloud2(demoFreq, size=1.6, color='random-dark')
 
# or a vector of colors. vector must be same length than input data
wordcloud2(demoFreq, size=1.6, color=rep_len( c("green","blue"), nrow(demoFreq) ) )
 
# Change the background color
wordcloud2(demoFreq, size=1.6, color='random-light', backgroundColor="black")
```













# Horizontal barplot with `coord_flip()`  {#horiz}
***

<div class = "row">

<div class = "col-md-6  col-sm-12 align-self-center">

It often makes sense to turn your [barplot](barplot.html) horizontal. Indeed, it makes the group labels much easier to read. 

Fortunately, the `coord_flip()` function makes it a breeze.
</div>


<div class = "col-md-6  col-sm-12">

```{r thecode3, echo=FALSE, out.width = "100%", fig.height=7}
# Load ggplot2
library(ggplot2)

# Create data
data <- data.frame(
  name=c("A","B","C","D","E") ,  
  value=c(3,12,5,18,45)
  )

# Barplot
ggplot(data, aes(x=name, y=value)) + 
  geom_bar(stat = "identity") +
  coord_flip()
```
</div>
</div>



```{r thecode3, eval=FALSE}
```











# Control bar width with `width`  {#width}
***

<div class = "row">

<div class = "col-md-6  col-sm-12 align-self-center">

The `width` argument of the `geom_bar()` function allows to control the bar width. It ranges between 0 and 1, 1 being full width.

See how this can be used to make bar charts with [variable width](81-barplot-with-variable-width.html).

</div>


<div class = "col-md-6  col-sm-12">

```{r thecode4, echo=FALSE, out.width = "100%", fig.height=7}
# Load ggplot2
library(ggplot2)

# Create data
data <- data.frame(
  name=c("A","B","C","D","E") ,  
  value=c(3,12,5,18,45)
  )

# Barplot
ggplot(data, aes(x=name, y=value)) + 
  geom_bar(stat = "identity", width=0.2) 
```
</div>
</div>



```{r thecode4, eval=FALSE}
```




# What's next?
***

This post was an overview of ggplot2 [barplots](barplot.html), showing the basic options of `geom_barplot()`. Visit the barplot section for more:

- how to [reorder](267-reorder-a-variable-in-ggplot2.html) your barplot
- how to use [variable bar width](81-barplot-with-variable-width.html)
- what about [error bars](4-barplot-with-error-bar.html)
- circular [barplots](circular-barplot.html)





<!-- Close container -->
</div>




```{r, echo=FALSE}
htmltools::includeHTML("htmlChunkRelatedRanking.html")
```
